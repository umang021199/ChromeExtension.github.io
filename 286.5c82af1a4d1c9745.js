"use strict";(self.webpackChunksfsce=self.webpackChunksfsce||[]).push([[286],{4286:(be,q,u)=>{u.r(q),u.d(q,{BulkFieldCreationModule:()=>Te});var _=u(9808),x=u(1533),b=u(5861),T=u(520),I=u(6805),v=u(4999),w=u(4908),C=u(2463),k=u(4128),A=u(4004),e=u(5e3);let y=(()=>{class l{constructor(t){this.http=t}createChunks(t,i){return Array(Math.ceil(t.length/i)).fill(0).map((a,c)=>t.slice(c*i,i*(c+1)))}getObjectList(){return this.http.get(v.I8.instanceUrl+"/services/data/v50.0/sobjects")}getSobjects(){return this.http.get(v.I8.instanceUrl+"/services/data/v50.0/query/?q=SELECT SObjectType From ObjectPermissions Group By SObjectType")}getGlobalPicklistValueSet(){return this.http.get(v.I8.instanceUrl+"/services/data/v50.0/tooling/query/?q=Select Id, DeveloperName, MasterLabel, NamespacePrefix from GlobalValueSet")}customFieldCompositeCall(t){const s={method:"POST"},a=this.createChunks(t,25).map(o=>o.map((d,h)=>Object.assign(Object.assign({},s),{url:"/services/data/v50.0/tooling/sobjects/CustomField/",referenceId:h+"",body:d}))),c=[];return a.forEach(o=>{c.push({allOrNone:!1,compositeRequest:o})}),(0,k.D)(c.map(o=>this.http.post(v.I8.instanceUrl+"/services/data/v54.0/tooling/composite",o))).pipe((0,A.U)(o=>{let d=[];return o.forEach(h=>d.push(...h.compositeResponse)),d}))}}return l.\u0275fac=function(t){return new(t||l)(e.LFG(T.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var M=u(4518),f=u(3075);const N=["objectselector"],B=["fieldselector"];function J(l,n){1&l&&e.GkF(0)}function j(l,n){1&l&&e.GkF(0)}function P(l,n){1&l&&e.GkF(0)}function L(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",20),e.TgZ(1,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index;return e.oxw(3).handleEdit(s)}),e._UZ(2,"i",22),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index;return e.oxw(3).handleDelete(s)}),e._UZ(4,"i",24),e.qZA(),e.qZA()}}function U(l,n){1&l&&(e.TgZ(0,"div"),e.TgZ(1,"button",25),e._UZ(2,"i",26),e.qZA(),e.qZA())}const O=function(l,n,t,i){return{"bg-success":l,"bg-danger":n,"text-light":t,ignoretheme:i}};function E(l,n){if(1&l&&(e.TgZ(0,"div"),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"div",16),e.YNc(5,L,5,0,"div",17),e.YNc(6,U,3,0,"div",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",19),e.TgZ(8,"div"),e.TgZ(9,"b"),e._uU(10,"Field Name : "),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"slice"),e.qZA(),e.qZA(),e.TgZ(14,"div"),e.TgZ(15,"b"),e._uU(16,"Field Type : "),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"b"),e._uU(21,"Object : "),e.qZA(),e.TgZ(22,"span"),e._uU(23),e.ALo(24,"slice"),e.qZA(),e._UZ(25,"br"),e._UZ(26,"br"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&l){const t=n.$implicit;e.xp6(1),e.Q6J("ngClass",e.l5B(14,O,t.success,t.failure,t.success||t.failure,t.success||t.failure)),e.xp6(4),e.Q6J("ngIf",!t.success),e.xp6(1),e.Q6J("ngIf",t.success),e.xp6(6),e.Oqu(t.label.value.length>15?e.Dn7(13,6,t.label.value,0,15)+"..":t.label.value),e.xp6(6),e.Oqu(t.type.value),e.xp6(5),e.Oqu(t.object.value.length>17?e.Dn7(24,10,t.object.value,0,17)+"..":t.object.value)}}function Q(l,n){if(1&l&&(e.TgZ(0,"div",11),e.YNc(1,E,27,19,"div",12),e.qZA()),2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.Cards.show)}}function S(l,n){if(1&l&&e.YNc(0,Q,2,1,"div",10),2&l){const t=e.oxw();e.Q6J("ngIf",t.Cards.show.length>0)}}function H(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).handleCreateFields()}),e._uU(2," Create Fields "),e.qZA(),e.TgZ(3,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).handleClearFields()}),e._uU(4," Clear All "),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).handleClearSuccessFields()}),e._uU(6," Clear All Success "),e.qZA(),e.qZA()}}function V(l,n){if(1&l&&e.YNc(0,H,7,0,"div",27),2&l){const t=e.oxw();e.Q6J("ngIf",t.Cards.show.length>0)}}function D(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"v-searchselect",43,44),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.object.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("all",t.sObjectList)("value",t.showFieldInput.object.value)}}function Y(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Field Label"),e.qZA(),e.TgZ(5,"input",45),e.NdJ("blur",function(){return e.CHM(t),e.oxw(2).onBlur()})("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.label.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.label.value)}}function R(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Field Name"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.fieldName.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.fieldName.value)}}function G(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Related to Parent"),e.qZA(),e.TgZ(5,"v-searchselect",47),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.referenceTo.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("all",t.relatedParentList)("value",t.showFieldInput.referenceTo.value)}}function W(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Child Relationship"),e.qZA(),e.TgZ(5,"input",48),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.relationshipName.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.relationshipName.value)}}function z(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Length"),e.qZA(),e.TgZ(5,"input",49),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.length.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.length.value)}}function $(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Decimal Places"),e.qZA(),e.TgZ(5,"input",50),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.decimalPlaces.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.decimalPlaces.value)}}function X(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Visible Lines"),e.qZA(),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.visibleLines.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.visibleLines.value)}}function K(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e._uU(2,"Picklist values with comma separates."),e.qZA(),e.TgZ(3,"input",52),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.picklist.value=s}),e.qZA(),e.TgZ(4,"div",40),e._uU(5,"Or"),e.qZA(),e.TgZ(6,"div",33),e._uU(7,"Global Picklist"),e.qZA(),e.TgZ(8,"v-searchselect",53),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.globalPicklist.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.picklist.value),e.xp6(5),e.Q6J("all",t.globalPicklistValueFullname)("value",t.showFieldInput.globalPicklist.value)}}function ee(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e._uU(2,"Display Format"),e.qZA(),e.TgZ(3,"input",54),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.displayFormat.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.displayFormat.value)}}function te(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"span",34),e._uU(3,"*"),e.qZA(),e._uU(4,"Starting Number"),e.qZA(),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.startingNumber.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.showFieldInput.startingNumber.value)}}function le(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e._uU(2,"Formula Details"),e.qZA(),e.TgZ(3,"input",55),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.formulaDetails.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.formulaDetails.value)}}function ie(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e._uU(2,"Picklist Shorted"),e.qZA(),e.TgZ(3,"input",56),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.picklistShorted.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.picklistShorted.value)}}function se(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",33),e._uU(2,"Default Value"),e.qZA(),e.TgZ(3,"input",59),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).showFieldInput.defaultValue.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.defaultValue.value)}}function ae(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",60),e._uU(1," Default Value : "),e.TgZ(2,"input",61),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).showFieldInput.defaultValueCheck.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.showFieldInput.defaultValueCheck.value)}}function ne(l,n){if(1&l&&(e.TgZ(0,"div",32),e.YNc(1,se,4,1,"div",57),e.YNc(2,ae,3,1,"ng-template",null,58,e.W1O),e.qZA()),2&l){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","Checkbox"!=i.showFieldInput.type.value)("ngIfElse",t)}}function oe(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",62),e.TgZ(1,"div",33),e._uU(2,"Description"),e.qZA(),e.TgZ(3,"input",63),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.description.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.description.value)}}function ue(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",62),e.TgZ(1,"div",33),e._uU(2,"Help Text"),e.qZA(),e.TgZ(3,"input",64),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.inlineHelpText.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.showFieldInput.inlineHelpText.value)}}function re(l,n){1&l&&e._UZ(0,"div",32)}function de(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",32),e.TgZ(1,"div",33),e._uU(2,"Mask Type"),e.qZA(),e.TgZ(3,"v-searchselect",65),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.maskType.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("all",t.maskType)("value",t.showFieldInput.maskType.value)}}function ce(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",60),e._uU(1," Required : "),e.TgZ(2,"input",61),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.required.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.showFieldInput.required.value)}}function he(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",60),e._uU(1," Unique : "),e.TgZ(2,"input",61),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.unique.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.showFieldInput.unique.value)}}function pe(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",60),e._uU(1," External Id : "),e.TgZ(2,"input",61),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).showFieldInput.externalId.value=s}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.showFieldInput.externalId.value)}}function fe(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).handleAddNewFieldData()}),e._uU(1," Add Field "),e.qZA()}}function _e(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).handleAddNewFieldData()}),e._uU(1," Update Field "),e.qZA()}}function ge(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",31),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"span",34),e._uU(4,"*"),e.qZA(),e._uU(5,"Object Name"),e.qZA(),e.YNc(6,D,3,2,"div",18),e.qZA(),e.TgZ(7,"div",32),e.TgZ(8,"div",33),e.TgZ(9,"span",34),e._uU(10,"*"),e.qZA(),e._uU(11,"Field Type"),e.qZA(),e.TgZ(12,"v-searchselect",35,36),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw().showFieldInput.type.value=s})("valueChange",function(s){return e.CHM(t),e.oxw().handleFieldTypeChange(s)}),e.qZA(),e.qZA(),e.YNc(14,Y,6,1,"div",37),e.YNc(15,R,6,1,"div",37),e.YNc(16,G,6,2,"div",37),e.YNc(17,W,6,1,"div",37),e.YNc(18,z,6,1,"div",37),e.YNc(19,$,6,1,"div",37),e.YNc(20,X,6,1,"div",37),e.YNc(21,K,9,3,"div",37),e.YNc(22,ee,4,1,"div",37),e.YNc(23,te,6,1,"div",37),e.YNc(24,le,4,1,"div",37),e.YNc(25,ie,4,1,"div",37),e.YNc(26,ne,4,2,"div",37),e.YNc(27,oe,4,1,"div",38),e.YNc(28,ue,4,1,"div",38),e.YNc(29,re,1,0,"div",37),e.YNc(30,de,4,2,"div",37),e.YNc(31,ce,3,1,"div",39),e.YNc(32,he,3,1,"div",39),e.YNc(33,pe,3,1,"div",39),e.TgZ(34,"div",40),e.YNc(35,fe,2,0,"button",41),e.YNc(36,_e,2,0,"ng-template",null,42,e.W1O),e.qZA(),e.qZA()}if(2&l){const t=e.MAs(37),i=e.oxw();e.xp6(6),e.Q6J("ngIf",i.sObjectList.length),e.xp6(6),e.Q6J("all",i.fieldType)("value",i.showFieldInput.type.value),e.xp6(2),e.Q6J("ngIf",i.showFieldInput.label.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.fieldName.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.referenceTo.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.relationshipName.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.length.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.decimalPlaces.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.visibleLines.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.picklist.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.displayFormat.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.startingNumber.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.formulaDetails.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.picklistShorted.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.defaultValue.show||i.showFieldInput.defaultValueCheck.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.description.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.inlineHelpText.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.maskChar.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.maskType.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.required.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.unique.show),e.xp6(1),e.Q6J("ngIf",i.showFieldInput.externalId.show),e.xp6(2),e.Q6J("ngIf",null==i.Cards.editIndex)("ngIfElse",t)}}const ve=[{path:"",component:(()=>{class l{constructor(t){this.bulkfieldservice=t,this.dataArray=[],this.Cards={success:[],failure:[],show:[],editToApi:[],editIndex:null},this.fieldType=["AutoNumber","Lookup","MasterDetail","Checkbox","Currency","Date","DateTime","Email","Number","Percent","Phone","Picklist","MultiselectPicklist","Text","TextArea","LongTextArea","RichTextArea","Location"],this.relatedParentList=[],this.relatedParentListAll=[],this.fieldTypeAll=["AutoNumber","Lookup","MasterDetail","Checkbox","Currency","Date","DateTime","Email","Number","Percent","Phone","Picklist","MultiselectPicklist","Text","TextArea","LongTextArea","RichTextArea","Location"],this.showFieldInput={object:{required:!0,show:!0,value:""},type:{required:!0,show:!0,value:""},label:{required:!0,show:!0,value:""},fieldName:{required:!0,show:!0,value:""},referenceTo:{required:!1,show:!1,value:""},relationshipName:{required:!1,show:!1,value:""},length:{required:!1,show:!1,value:null},decimalPlaces:{required:!1,show:!1,value:null},visibleLines:{required:!1,show:!1,value:null},picklist:{required:!1,show:!1,value:""},displayFormat:{required:!1,show:!1,value:""},startingNumber:{required:!1,show:!1,value:""},formulaDetails:{required:!1,show:!1,value:""},picklistShorted:{required:!1,show:!1,value:!1},defaultValue:{required:!1,show:!1,value:""},required:{required:!1,show:!1,value:!1},unique:{required:!1,show:!1,value:!1},externalId:{required:!1,show:!1,value:!1},description:{required:!1,show:!0,value:""},inlineHelpText:{required:!1,show:!0,value:""},maskChar:{required:!1,show:!1,value:""},maskType:{required:!1,show:!1,value:""},globalPicklist:{required:!1,show:!1,value:""},defaultValueCheck:{required:!1,show:!1,value:!1},success:!1,failed:!1,message:""},this.objectLabel=[],this.requiredFieldIsEmpty=!1,this.data=[],this.globalPicklistValueFullname=[],this.globalPicklistValueFullnameAll=[],this.sObjectInfo={},this.standardObjectList=[],this.customObjectList=[],this.sObjectList=[],this.sObjectListAll=[],this.maskChar=["asterisk","x"],this.maskType=["all","creditCard","ssn","lastFour","sin","nino"],this.indextoEdit=null,this.expandAddRow=!1,this.hideCreateFieldButton=!1,this.showActionButtons=!0,this.handleEditIndexRemove=[]}ngOnInit(){this.fieldType=this.fieldType.sort((t,i)=>t.localeCompare(i)),this.fieldTypeAll=[...this.fieldType],this.bulkfieldservice.getObjectList().subscribe(t=>{this.objectList=t.sobjects;for(let i=0;i<this.objectList.length;i++)this.objectLabel.push(this.objectList[i].label);this.data=this.objectList,this.getSobjectInfo()},t=>{w.c.log(t)}),this.bulkfieldservice.getGlobalPicklistValueSet().subscribe(t=>{if(this.globalPicklistValueRecords=t.records,this.globalPicklistValueRecords){let i=[];this.globalPicklistValueRecords.forEach(s=>{s.FullName=(null!=s.NamespacePrefix?s.NamespacePrefix+"__":"")+s.DeveloperName,i.push(s.FullName)}),this.globalPicklistValueFullname=i,this.globalPicklistValueFullnameAll=i}})}getSobjectInfo(){this.bulkfieldservice.getSobjects().subscribe(t=>{this.sObjectListApiName=t.records;for(let s=0;s<this.sObjectListApiName.length;s++){var i=this.objectList.filter(a=>a.name===this.sObjectListApiName[s].SobjectType);i.length>0&&(this.sObjectList.push(i[0].label),this.sObjectListAll.push(i[0].label),this.sObjectInfo[i[0].label]=i[0].name,this.sObjectListApiName[s].SobjectType.includes("__c")?this.customObjectList.push(i[0].label):this.standardObjectList.push(i[0].label))}this.sObjectList=this.sObjectList.sort((s,a)=>s.localeCompare(a)),this.sObjectListAll=[...this.sObjectList]})}onBlur(){let i=this.showFieldInput.label.value.replace(/\s+$/,"").split(" ").join("_");this.showFieldInput.fieldName.value=i}handleAddField(){this.expandAddRow=!0}handleAddNewFieldData(){this.requiredFieldIsEmpty=!1,this.showFieldInput.success=!1,this.showFieldInput.failed=!1,this.showFieldInput.message="";for(const t in this.showFieldInput){if(this.showFieldInput[t].required&&this.showFieldInput[t].show&&!this.showFieldInput[t].value){if("picklist"==t&&""!=this.showFieldInput.globalPicklist.value)continue;if("globalPicklist"==t&&""!=this.showFieldInput.picklist.value)continue;if("decimalPlaces"==t&&null!=this.showFieldInput[t].value)continue;w.c.log("problem",t,this.showFieldInput[t]),this.requiredFieldIsEmpty=!0,this.showFieldInput.message=t.toUpperCase()+" is missing, It is a required field";break}this.showFieldInput[t].required&&w.c.log(t,this.showFieldInput[t])}if(this.requiredFieldIsEmpty)C.y.maketoast({template:"error",body:this.showFieldInput.message,duration:2e3});else{if(null!=this.Cards.editIndex){if(0!=this.Cards.editToApi.length)for(let t=0;t<this.Cards.editToApi.length;t++)if(this.Cards.editToApi[t].label.value==this.Cards.show[this.Cards.editIndex].label.value&&this.Cards.editToApi[t].object.value==this.Cards.show[this.Cards.editIndex].object.value){this.Cards.editToApi.splice(t,1,this.showFieldInput);break}this.Cards.editToApi.splice(this.Cards.editIndex,1,this.showFieldInput),this.Cards.show.splice(this.Cards.editIndex,1,this.showFieldInput),this.Cards.editIndex=null}else this.Cards.show.push(this.showFieldInput),this.Cards.editToApi.push(this.showFieldInput);this.showFieldInput={object:{required:!0,show:!0,value:""},type:{required:!0,show:!0,value:""},label:{required:!0,show:!0,value:""},fieldName:{required:!0,show:!0,value:""},referenceTo:{required:!1,show:!1,value:""},relationshipName:{required:!1,show:!1,value:""},length:{required:!1,show:!1,value:null},decimalPlaces:{required:!1,show:!1,value:null},visibleLines:{required:!1,show:!1,value:null},picklist:{required:!1,show:!1,value:""},displayFormat:{required:!1,show:!1,value:""},startingNumber:{required:!1,show:!1,value:""},formulaDetails:{required:!1,show:!1,value:""},picklistShorted:{required:!1,show:!1,value:!1},defaultValue:{required:!1,show:!1,value:""},required:{required:!1,show:!1,value:!1},unique:{required:!1,show:!1,value:!1},externalId:{required:!1,show:!1,value:!1},description:{required:!1,show:!0,value:""},inlineHelpText:{required:!1,show:!0,value:""},maskChar:{required:!1,show:!1,value:""},maskType:{required:!1,show:!1,value:""},globalPicklist:{required:!1,show:!1,value:""},defaultValueCheck:{required:!1,show:!1,value:!1},success:!1,failed:!1,message:""},this.objectSelector.reset(),this.fieldSelector.reset()}}handleEdit(t){this.Cards.editIndex=t,this.Cards.show[t].success=!1,this.Cards.show[t].failed=!1,this.Cards.show[t].message="",this.showFieldInput=this.Cards.show[t],this.objectSelector.setValue(this.showFieldInput.object.value),this.fieldSelector.setValue(this.showFieldInput.type.value),this.showFieldInput=this.Cards.show[t]}handleDelete(t){for(let i=0;i<this.Cards.editToApi.length;i++)if(this.Cards.editToApi[i].label.value==this.Cards.show[t].label.value&&this.Cards.editToApi[i].object.value==this.Cards.show[t].object.value){this.Cards.editToApi.splice(i,1);break}this.Cards.show.splice(t,1),this.showFieldInput={object:{required:!0,show:!0,value:""},type:{required:!0,show:!0,value:""},label:{required:!0,show:!0,value:""},fieldName:{required:!0,show:!0,value:""},referenceTo:{required:!1,show:!1,value:""},relationshipName:{required:!1,show:!1,value:""},length:{required:!1,show:!1,value:null},decimalPlaces:{required:!1,show:!1,value:null},visibleLines:{required:!1,show:!1,value:null},picklist:{required:!1,show:!1,value:""},displayFormat:{required:!1,show:!1,value:""},startingNumber:{required:!1,show:!1,value:""},formulaDetails:{required:!1,show:!1,value:""},picklistShorted:{required:!1,show:!1,value:!1},defaultValue:{required:!1,show:!1,value:""},required:{required:!1,show:!1,value:!1},unique:{required:!1,show:!1,value:!1},externalId:{required:!1,show:!1,value:!1},description:{required:!1,show:!0,value:""},inlineHelpText:{required:!1,show:!0,value:""},maskChar:{required:!1,show:!1,value:""},maskType:{required:!1,show:!1,value:""},globalPicklist:{required:!1,show:!1,value:""},defaultValueCheck:{required:!1,show:!1,value:!1},success:!1,failed:!1,message:""}}handleCreateFields(){var t=this;return(0,b.Z)(function*(){let i;t.showFieldInput={object:{required:!0,show:!0,value:""},type:{required:!0,show:!0,value:""},label:{required:!0,show:!0,value:""},fieldName:{required:!0,show:!0,value:""},referenceTo:{required:!1,show:!1,value:""},relationshipName:{required:!1,show:!1,value:""},length:{required:!1,show:!1,value:null},decimalPlaces:{required:!1,show:!1,value:null},visibleLines:{required:!1,show:!1,value:null},picklist:{required:!1,show:!1,value:""},displayFormat:{required:!1,show:!1,value:""},startingNumber:{required:!1,show:!1,value:""},formulaDetails:{required:!1,show:!1,value:""},picklistShorted:{required:!1,show:!1,value:!1},defaultValue:{required:!1,show:!1,value:""},required:{required:!1,show:!1,value:!1},unique:{required:!1,show:!1,value:!1},externalId:{required:!1,show:!1,value:!1},description:{required:!1,show:!0,value:""},inlineHelpText:{required:!1,show:!0,value:""},maskChar:{required:!1,show:!1,value:""},maskType:{required:!1,show:!1,value:""},globalPicklist:{required:!1,show:!1,value:""},defaultValueCheck:{required:!1,show:!1,value:!1},success:!1,failed:!1,message:""},t.Cards.failure=[],t.Cards.success=[],t.showActionButtons=!1;for(var s=0;s<t.Cards.editToApi.length;s++){if(t.Cards.editToApi[s].message){t.Cards.show.push(t.Cards.editToApi[s]);continue}var a={FullName:"",Metadata:{}};a.FullName=t.sObjectInfo[t.Cards.editToApi[s].object.value]+"."+t.Cards.editToApi[s].fieldName.value+"__c";let r={};for(const o in t.Cards.editToApi[s])if(t.Cards.editToApi[s][o].show&&"object"!=o&&"fieldName"!=o)if("referenceTo"==o)r[o]=t.sObjectInfo[t.Cards.editToApi[s][o].value];else if("decimalPlaces"==o)r.scale=t.Cards.editToApi[s][o].value;else if("Currency"==t.Cards.editToApi[s].type.value&&"length"==o)r.precision=t.Cards.editToApi[s][o].value;else if("Checkbox"==t.Cards.editToApi[s].type.value&&"defaultValueCheck"==o)r.defaultValue=t.Cards.editToApi[s][o].value;else if("Number"==t.Cards.editToApi[s].type.value&&"length"==o)r.precision=t.Cards.editToApi[s][o].value;else if("Percent"==t.Cards.editToApi[s].type.value&&"length"==o)r.precision=t.Cards.editToApi[s][o].value;else if("RichTextArea"==t.Cards.editToApi[s].type.value&&"type"==o)r.type="Html";else if("Picklist"!=t.Cards.editToApi[s].type.value&&"MultiselectPicklist"!=t.Cards.editToApi[s].type.value||"picklist"!=o){if("Picklist"!=t.Cards.editToApi[s].type.value&&"MultiselectPicklist"!=t.Cards.editToApi[s].type.value||"globalPicklist"!=o)r[o]=t.Cards.editToApi[s][o].value;else if(t.Cards.editToApi[s][o].value){let d={restricted:!0};d.valueSetName=t.Cards.editToApi[s][o].value,r.valueSet=d}}else if(t.Cards.editToApi[s][o].value){let d={},h={sorted:!1},m=[],p=t.Cards.editToApi[s][o].value.split(",");for(let g=0;g<p.length;g++){let F={};F.label=p[g].replace(/\s+$/,""),F.valueName=p[g].replace(/\s+$/,"").split(" ").join("_"),m.push(F)}h.value=m,d.valueSetDefinition=h,r.valueSet=d}a.Metadata=r,t.dataArray.push(a)}if(t.dataArray.length>0){const c=t.bulkfieldservice.customFieldCompositeCall(t.dataArray);yield function Z(l,n){const t="object"==typeof n;return new Promise((i,s)=>{let c,a=!1;l.subscribe({next:r=>{c=r,a=!0},error:s,complete:()=>{a?i(c):t?i(n.defaultValue):s(new I.K)}})})}(c).then(r=>{let o=[...t.dataArray];t.dataArray=[];let d=0;r.forEach((h,m)=>{i=t.Cards.editToApi[m];try{if(200!=h.httpStatusCode&&201!=h.httpStatusCode&&202!=h.httpStatusCode)throw C.y.maketoast({template:"ERROR",body:h.body.map(p=>p.message).join(", ")||"Field cannot be created due to some error",duration:5e3}),t.Cards.show[m].failure=!0,i.failure=!0,i.message=h.body,t.Cards.failure.push(i),new T.UA({error:h.body,status:h.httpStatusCode,headers:h.httpHeaders,url:v.I8.instanceUrl+"/services/data/v50.0/tooling/sobjects/CustomField/",statusText:"Bad Request"});{d++,i.success=!0,i.message="Field Created Successfully.";let p=t.Cards.show.findIndex(({fieldName:g})=>g.value===o[h.referenceId].FullName.split(".")[1].replace("__c",""));t.Cards.show[p].failure=!1,t.Cards.show[p].success=!0,t.Cards.success.push(i)}}catch(p){w.c.log(p),C.y.maketoast({template:"ERROR",body:p,duration:2e3})}}),0!=d&&C.y.maketoast({template:"success",body:d>1?d+" Fields Created Successfully":d+" Field  created successfully",duration:2e3}),t.hideCreateFieldButton=!0}),t.Cards.show=[...t.Cards.show,...t.Cards.failure,...t.Cards.success],t.Cards.show=[...new Map(t.Cards.show.map(r=>[JSON.stringify([r.object,r.fieldName]),r])).values()],t.Cards.editToApi=[]}})()}handleClearFields(){this.showActionButtons=!0,this.Cards.show=[],this.hideCreateFieldButton=!1}handleClearSuccessFields(){let t=this.Cards.show.slice().reverse();this.Cards.show=t.filter(i=>0==i.success)}handleFieldTypeChange(t){let i=this.showFieldInput.object,s=this.showFieldInput.type;this.showFieldInput={object:{required:!0,show:!0,value:""},type:{required:!0,show:!0,value:""},label:{required:!0,show:!0,value:""},fieldName:{required:!0,show:!0,value:""},referenceTo:{required:!1,show:!1,value:""},relationshipName:{required:!1,show:!1,value:""},length:{required:!1,show:!1,value:null},decimalPlaces:{required:!1,show:!1,value:null},visibleLines:{required:!1,show:!1,value:null},picklist:{required:!1,show:!1,value:""},displayFormat:{required:!1,show:!1,value:""},startingNumber:{required:!1,show:!1,value:""},formulaDetails:{required:!1,show:!1,value:""},picklistShorted:{required:!1,show:!1,value:!1},defaultValue:{required:!1,show:!1,value:""},required:{required:!1,show:!1,value:!1},unique:{required:!1,show:!1,value:!1},externalId:{required:!1,show:!1,value:!1},description:{required:!1,show:!0,value:""},inlineHelpText:{required:!1,show:!0,value:""},maskChar:{required:!1,show:!1,value:""},maskType:{required:!1,show:!1,value:""},globalPicklist:{required:!1,show:!1,value:""},defaultValueCheck:{required:!1,show:!1,value:!1},success:!1,failed:!1,message:""},this.showFieldInput.object=i,this.showFieldInput.type=s,"AutoNumber"==t?(this.showFieldInput.displayFormat={required:!0,show:!0,value:""},this.showFieldInput.startingNumber={required:!0,show:!0,value:""},this.showFieldInput.externalId={required:!1,show:!0,value:!1}):"MasterDetail"==t?(this.relatedParentList=this.customObjectList,this.relatedParentList=this.relatedParentList.sort((a,c)=>a.localeCompare(c)),this.relatedParentListAll=[...this.relatedParentList],this.showFieldInput.referenceTo={required:!0,show:!0,value:""},this.showFieldInput.relationshipName={required:!0,show:!0,value:""}):"Lookup"==t?(this.relatedParentList=this.sObjectListAll,this.relatedParentList=this.relatedParentList.sort((a,c)=>a.localeCompare(c)),this.relatedParentListAll=[...this.relatedParentList],this.showFieldInput.referenceTo={required:!0,show:!0,value:""},this.showFieldInput.relationshipName={required:!0,show:!0,value:""}):"Checkbox"==t?this.showFieldInput.defaultValueCheck={required:!1,show:!0,value:!1}:"Currency"==t?(this.showFieldInput.length={required:!0,show:!0,value:null},this.showFieldInput.decimalPlaces={required:!0,show:!0,value:null},this.showFieldInput.defaultValue={required:!1,show:!0,value:""},this.showFieldInput.required={required:!1,show:!0,value:!1}):"Date"==t||"DateTime"==t?this.showFieldInput.required={required:!1,show:!0,value:!1}:"Email"==t?(this.showFieldInput.required={required:!1,show:!0,value:!1},this.showFieldInput.unique={required:!1,show:!0,value:!1},this.showFieldInput.externalId={required:!1,show:!0,value:!1}):"EncryptedText"==t?(this.showFieldInput.maskChar={required:!0,show:!0,value:""},this.showFieldInput.maskType={required:!0,show:!0,value:""},this.showFieldInput.required={required:!1,show:!0,value:!1}):"Number"==t?(this.showFieldInput.length={required:!0,show:!0,value:null},this.showFieldInput.decimalPlaces={required:!0,show:!0,value:null},this.showFieldInput.required={required:!1,show:!0,value:!1},this.showFieldInput.unique={required:!1,show:!0,value:!1},this.showFieldInput.externalId={required:!1,show:!0,value:!1}):"Percent"==t?(this.showFieldInput.length={required:!0,show:!0,value:null},this.showFieldInput.decimalPlaces={required:!0,show:!0,value:null},this.showFieldInput.defaultValue={required:!1,show:!0,value:""},this.showFieldInput.required={required:!1,show:!0,value:!1}):"Phone"==t?this.showFieldInput.required={required:!1,show:!0,value:!1}:"Picklist"==t?(this.showFieldInput.picklist={required:!0,show:!0,value:""},this.showFieldInput.globalPicklist={required:!0,show:!0,value:""},this.showFieldInput.required={required:!1,show:!0,value:!1}):"MultiselectPicklist"==t?(this.showFieldInput.picklist={required:!0,show:!0,value:""},this.showFieldInput.globalPicklist={required:!0,show:!0,value:""},this.showFieldInput.visibleLines={required:!0,show:!0,value:null},this.showFieldInput.required={required:!1,show:!0,value:!1}):"Text"==t?(this.showFieldInput.length={required:!0,show:!0,value:null},this.showFieldInput.required={required:!1,show:!0,value:!1},this.showFieldInput.unique={required:!1,show:!0,value:!1},this.showFieldInput.externalId={required:!1,show:!0,value:!1}):"TextArea"==t?this.showFieldInput.required={required:!1,show:!0,value:!1}:"LongTextArea"==t?(this.showFieldInput.visibleLines={required:!0,show:!0,value:3},this.showFieldInput.length={required:!0,show:!0,value:32768}):"RichTextArea"==t?(this.showFieldInput.visibleLines={required:!0,show:!0,value:25},this.showFieldInput.length={required:!0,show:!0,value:32768}):"Location"==t&&(this.showFieldInput.decimalPlaces={required:!0,show:!0,value:null},this.showFieldInput.required={required:!1,show:!0,value:!1})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(y))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-bulk-field-creation"]],viewQuery:function(t,i){if(1&t&&(e.Gf(N,5),e.Gf(B,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.objectSelector=s.first),e.iGM(s=e.CRH())&&(i.fieldSelector=s.first)}},decls:17,vars:3,consts:[[1,"d-flex","overflow-hidden","h-100","w-100"],[1,"d-flex","flex-column","flex-shrink-0","p-3","bg-light",2,"min-width","500px"],[1,"fw-bold"],[1,"bi","bi-pencil-fill"],[1,"overflow-auto"],[4,"ngTemplateOutlet"],[1,"bg-clr2","w-100","p-2","scrollable-area-full-h","overflow-auto"],["cards",""],["footer",""],["body",""],["class","d-flex",4,"ngIf"],[1,"d-flex"],[4,"ngFor","ngForOf"],[1,"card","shadow","m-1",3,"ngClass"],[1,"card-header","fw-bold"],[1,"d-flex","justify-content-between",2,"float","right"],[1,"btn-group","shadow"],["class","d-flex justify-content-between float-right",4,"ngIf"],[4,"ngIf"],[1,"card-body"],[1,"d-flex","justify-content-between","float-right"],[1,"btn","btn-sm","btn-warning","ignoretheme",3,"click"],[1,"bi","bi-pen"],[1,"btn","btn-sm","btn-danger","ignoretheme",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-sm","bg-light","ignoretheme"],[1,"bi","bi-check-circle"],["class","d-flex justify-content-center p-1 z-0",4,"ngIf"],[1,"d-flex","justify-content-center","p-1","z-0"],[1,"btn","btn-sm","btn-primary","mx-1","button",3,"click"],[1,"btn","btn-sm","btn-light","mx-1","button",3,"click"],[1,"shadow","p-1"],[1,"cont-child"],[1,"fs-small"],[2,"color","red"],["placeholder","Field Type","type","plain",3,"all","value","valueChange"],["fieldselector",""],["class","cont-child",4,"ngIf"],["class","desc",4,"ngIf"],["class","cont-child-cb",4,"ngIf"],[1,"text-center","p-2"],["class","btn btn-sm btn btn-secondary w-25 button",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["placeholder","Object Name","type","plain",3,"all","value","valueChange"],["objectselector",""],["placeholder","Field Label","type","text","maxlength","40",1,"form-control",3,"ngModel","blur","ngModelChange"],["placeholder","Field Name","type","text","maxlength","40",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Related To Parent","type","plain",3,"all","value","valueChange"],["placeholder","Child Relationship","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Length","type","number","step","1",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Decimal Places","type","number","step","1",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Visible Lines","type","number","step","1",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Picklist values with comma separates.","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Global Picklist","type","plain",3,"all","value","valueChange"],["placeholder","A-{0000}","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Formula Details","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Picklist Shorted","type","text",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["other_content",""],["placeholder","Default Value","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"cont-child-cb"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"desc"],["placeholder","Description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Help Text","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Mask Type","type","plain",3,"all","value","valueChange"],[1,"btn","btn-sm","btn","btn-secondary","w-25","button",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._UZ(3,"i",3),e._uU(4," Bulk Field Creation"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",4),e.YNc(7,J,1,0,"ng-container",5),e.YNc(8,j,1,0,"ng-container",5),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,P,1,0,"ng-container",5),e.qZA(),e.qZA(),e.YNc(11,S,1,1,"ng-template",null,7,e.W1O),e.YNc(13,V,1,1,"ng-template",null,8,e.W1O),e.YNc(15,ge,38,25,"ng-template",null,9,e.W1O)),2&t){const s=e.MAs(12),a=e.MAs(14),c=e.MAs(16);e.xp6(7),e.Q6J("ngTemplateOutlet",c),e.xp6(1),e.Q6J("ngTemplateOutlet",a),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}},directives:[_.tP,_.O5,_.sg,_.mk,M._,f.Fj,f.nD,f.JJ,f.On,f.wV,f.Wl],pipes:[_.OU],styles:[""]}),l})()}];let me=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[x.Bz.forChild(ve)],x.Bz]}),l})();var we=u(321),Ce=u(1375),Fe=u(9446),qe=u(3985),xe=u(2897);let Te=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[_.ez,me,we.q2,f.u5,Fe.rw,f.UX,Ce.cP,qe.W,xe.zE6]]}),l})()}}]);